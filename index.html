<!doctype html>
<html class="no-js fuelux" lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Magnet Message</title>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/fuelux.min.css" />
    <link rel="stylesheet" href="css/font-awesome.min.css" />
    <link rel="stylesheet" href="css/bootstrap-tour.min.css">
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/account.css" />
    <link rel="stylesheet" href="css/ie.css" />
    <script src="js/libs/modernizr.js"></script>
    <script data-main="js/account" src="js/libs/require.js"></script>
</head>

<body id="messaging">

<nav class="navbar navbar-default navbar-inverse" role="navigation">
    <div class="row-fluid">
        <div class="navbar-header">
            <button id="user-nav-menu-btn" type="button" class="navbar-toggle" data-toggle="collapse" data-target="#user-nav">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">
                <img src="images/heading_sandbox.png" />
                <span class="project-name-holder"></span>
            </a>
        </div>
        <div id="user-nav" class="collapse navbar-collapse">
            <ul id="main-nav-menu" class="mmx-nav nav navbar-nav navbar-right" style="display:none">
                <li><a href="#dashboard">App Dashboard</a></li>
                <li><a href="#quickstart">Getting Started</a></li>
                <li><a href="#endpoints">Endpoints</a></li>
                <li><a href="#users">Users</a></li>
                <li><a href="#messages">Message Log</a></li>
                <li><a href="#notifications">Push Log</a></li>
                <li><a href="#topics">Topics</a></li>
                <li class="advanced-settings-view-link"><a href="#settings">Settings</a></li>
                <li style="display:none"><a href="#advanced">Advanced</a></li>
                <li><a href="//www.magnet.com/documentation/message/1.0.2/guide/" target="_blank">Documentation</a></li>
            </ul>
        </div>
        <div id="user-navigation" style="display:none">
            <div class="action" id="mmx-contextual-doc-btn">
                <span class="fa fa-question-circle fa-2x"></span>
            </div>
            <div class="separator"></div>
            <div id="user-identity" tabindex="0" role="button" data-trigger="focus" class="action divide"
                 data-content="<div class='user-navigation-menu clearfix'><a href='#' class='show-profile-btn'><i class='fa fa-2x fa-user'></i>Profile</a><hr /><a href='#' id='logout-btn'><i class='fa fa-2x fa-sign-out'></i> Sign Out</a></div>">
                <div>
                    <span class="fa fa-cog fa-2x"></span> <span class="caret"></span>
                </div>
                <div>
                    <div class="user-identity-section">
                        <span class="placeholder-username"></span><br />
                        <span class="placeholder-role"></span>
                    </div>
                </div>
            </div>
            <div class="separator hidden-xs"></div>
            <div id="page-select" tabindex="0" role="button" data-trigger="focus" class="admin-only-item action"
                 data-content="<div class='user-navigation-menu clearfix'><a href='/admin' class='fulldim'>Administration</a></div>">
                <div class="page-selector">
                    Messaging <span class="caret"></span>
                </div>
            </div>
            <div class="admin-only-item separator"></div>
        </div>
    </div>
</nav>

<div id="login-container" class="app-view pre-login-containers fullpos" style="display:none">
    <div class="centered-wrapper">
        <div class="panel panel-default">
            <h4>Sign In</h4>
            <form id="login-form">
                <div class="form-group">
                    <input class="form-control" type="text" name="username" placeholder="Email Address" />
                </div>
                <div class="form-group">
                    <input class="form-control" type="password" name="password" placeholder="Password" />
                </div>
                <div class="form-group">
                    <a href="#/forgot-password">Forgot Password?</a>
                </div>
                <div class="form-group">
                    <a id="login-btn" class="btn btn-primary">Sign In</a>
                </div>
                <div class="form-group">
                    <p>or <a href="#/register">Register</a></p>
                </div>
            </form>
        </div>
    </div>
</div>

<div id="loggedout-container" class="app-view pre-login-containers fullpos" style="display:none">
    <div class="centered-wrapper">
        <div class="panel panel-default">
            <h4>Signed Out</h4>
            <p>You have signed out of the Magnet Message developer console. To sign in again, click the <b>Sign In</b>
            button below. Otherwise, return to <a href="https://www.magnet.com">www.magnet.com</a>.</p>
            <form>
                <div class="form-group">
                    <a id="gotoauthurl-btn" class="btn btn-primary">Sign In</a>
                </div>
            </form>
        </div>
    </div>
</div>

<div id="registration-container" class="app-view pre-login-containers fullpos" style="display:none">
    <div class="centered-wrapper">
        <div class="panel panel-default">
            <h4>Register</h4>
            <div>
                <div class="form-group">
                    <input type="text" class="form-control" name="firstName" placeholder="First Name*">
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" name="lastName" placeholder="Last Name*">
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" name="email" placeholder="Email Address*">
                </div>
                <div class="form-group">
                    <a id="registration-btn" class="btn btn-primary">Register</a>
                </div>
                <span class="alert-container"></span>
                <div class="form-group">
                    <p><a href="#/login">I already have an account</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="completeregistration-container" class="app-view pre-login-containers fullpos" style="display:none">
    <div class="centered-wrapper">
        <div class="panel panel-default">
            <h4>Complete Registration</h4>
            <div>
                <div class="form-group">
                    <select class="form-control" name="roleWithinCompany" placeholder="Role at your company">
                        <option value="" selected="selected">Role at your company</option>
                        <option value="server-developer">Server Developer</option>
                        <option value="client-developer">Client Developer</option>
                        <option value="it-admin">IT Admin</option>
                        <option value="management">Management</option>
                    </select>
                </div>
                <div class="form-group">
                    <select class="form-control" name="country" placeholder="Country"></select>
                </div>
                <div class="form-group">
                    <input type="password" class="form-control" name="password" placeholder="Password*">
                </div>
                <div class="form-group">
                    <input type="password" class="form-control" name="password2" placeholder="Re-type Password*">
                </div>
                <span class="alert-container"></span>
                <div class="form-group">
                    <a id="completeregistration-btn" class="btn btn-primary">Register</a>
                </div>
                <div class="form-group">
                    <p><a href="#/login">Return to Login</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="forgotpassword-container" class="app-view pre-login-containers fullpos" style="display:none">
    <div class="centered-wrapper">
        <div class="panel panel-default">
            <h4>Forgot Password</h4>
            <div>
                <div class="form-group">
                    <input type="text" class="form-control" name="email" placeholder="Email Address*">
                </div>
                <span class="alert-container"></span>
                <div class="form-group">
                    <a id="forgotpassword-btn" class="btn btn-primary">Request Password Recovery</a>
                </div>
                <div class="form-group">
                    <p><a href="#/login">I remember now</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="resetpassword-container" class="app-view pre-login-containers fullpos" style="display:none">
    <div class="centered-wrapper">
        <div class="panel panel-default">
            <h4>Reset Password</h4>
            <div>
                <div class="form-group">
                    <input type="password" class="form-control" name="password" placeholder="Password*">
                </div>
                <div class="form-group">
                    <input type="password" class="form-control" name="password2" placeholder="Re-type Password*">
                </div>
                <span class="alert-container"></span>
                <div class="form-group">
                    <a id="resetpassword-btn" class="btn btn-primary">Save Password</a>
                </div>
                <div class="form-group">
                    <p><a href="#/login">I remember now</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="mmx-container" class="app-view table-layout fullpos" style="display:none">
    <div id="collapsible-menu-list" class="table-cell" style="width:0;display:none">
        <div class="same-line clearfix">
            <button id="create-messaging-app-modal" class="same-line-button btn btn-primary glyphicon glyphicon-plus pull-right"></button>
            <div class="same-line-control">
                <select id="mmx-app-list" class="form-control"></select>
            </div>
        </div>
        <hr />
        <div class="mmx-nav list-group">
            <a class="list-group-item" href="#dashboard"><i class="fa fa-dashboard"></i>App Dashboard</a>
            <a class="list-group-item" href="#quickstart"><i class="fa fa-desktop"></i>Getting Started</a>
            <a class="list-group-item" href="#endpoints"><i class="fa fa-list"></i>Endpoints</a>
            <a class="list-group-item" href="#users"><i class="fa fa-list"></i>Users</a>
            <a class="list-group-item" href="#messages"><i class="fa fa-area-chart"></i>Message Log</a>
            <a class="list-group-item" href="#notifications"><i class="fa fa-area-chart"></i>Push Log</a>
            <a class="list-group-item" href="#topics"><i class="fa fa-edit"></i>Topics</a>
            <a class="list-group-item" href="#settings"><i class="fa fa-cog"></i>Settings</a>
            <a class="list-group-item advanced-settings-view-link" href="#advanced"><i class="fa fa-cogs"></i>Advanced</a>
            <a class="list-group-item" href="//www.magnet.com/documentation/message/1.0.2/guide/" target="_blank"><i class="fa fa-book"></i>Documentation</a>
        </div>
    </div>
    <div class="table-cell">
        <div id="breadcrumb">
            <div class="row-fluid">
                <div class="col-sm-6 clearfix">
                    <div class="padding-sm">
                        <i id="toggle-collapsible-menu" class="fa fa-lg fa-arrow-circle-o-left" style="display:none"></i>
                        <div class="bc-title"></div>
                    </div>
                </div>
                <div class="col-sm-6 same-line clearfix" style="display:none">
                    <button id="create-messaging-app-modal2" class="same-line-button btn btn-primary glyphicon glyphicon-plus pull-right"></button>
                    <div class="same-line-control">
                        <select id="mmx-app-list2" class="form-control"></select>
                    </div>
                </div>
            </div>
        </div>
        <div id="mmx-maximum-apps-reached" class="alert mmx-global-alert alert-warning fade in clearfix" style="display:none">
            <i class="fa fa-exclamation-triangle"></i> You have the <b>maximum number of apps</b>. You will need to delete an app to create one.
        </div>
        <div id="mmx-maximum-devices-reached" class="alert mmx-global-alert alert-warning fade in clearfix" style="display:none">
            <i class="fa fa-exclamation-triangle"></i> This app has reached the <b>maximum device limit</b>. To add additional devices, you must deactivate an active device.
        </div>
        <div class="view-wrapper fullpos">
            <div id="mmx-summary-container" class="fullpos"></div>
            <div id="mmx-active-project-container" class="fullpos">
                <div class="tab-content">
                    <div class="tab-pane active" id="mmx-dashboard">
                        <div class="view-container"></div>
                    </div>
                    <div class="tab-pane clearfix" id="mmx-settings">
                        <div class="view-container"></div>
                    </div>
                    <div class="tab-pane clearfix advanced-settings-view-link" id="mmx-advanced">
                        <div class="view-container"></div>
                    </div>
                    <div class="tab-pane clearfix" id="mmx-endpoints">
                        <div class="view-container"></div>
                    </div>
                    <div class="tab-pane clearfix" id="mmx-users">
                        <div class="view-container"></div>
                    </div>
                    <div class="tab-pane clearfix" id="mmx-messages">
                        <div class="view-container"></div>
                    </div>
                    <div class="tab-pane clearfix" id="mmx-notifications">
                        <div class="view-container"></div>
                    </div>
                    <div class="tab-pane clearfix" id="mmx-topics">
                        <div class="view-container"></div>
                    </div>
                    <div class="tab-pane clearfix" id="mmx-quickstart"></div>
                </div>
            </div>
        </div>
        <div id="footer" class="row-fluid">
            <div class="col-xs-12">
                <p>Copyright &copy; Magnet Systems, Inc. 2015</p>
            </div>
        </div>
    </div>
</div>

<script id="MessagingSummaryView" type="text/template">
    <% if(col && col.length > 0){ %>
    <div class="row-fluid">
    <% _.each(col, function(model, key){ %>
        <div class="col-sm-6">
            <div class="well well-sm">
                <a class="well-title" href="#/messaging/<%- model.attributes.id %>"><%- model.attributes.name %></a>
                <a href="#/messaging/<%- model.attributes.id %>/settings" class="glyphicon glyphicon-cog"></span></a>
                <hr />
                <%= renderSingle(model, configs) %>
            </div>
        </div>
    <% }); %>
    </div>
    <% } %>
</script>

<script id="MessagingProjectSettingsView" type="text/template">
    <div class="row-fluid clearfix">
        <div class="col-sm-6">
            <div class="form-group clearfix">
                <label>App Name <span class="required">*</span></label>
                <div class="controls">
                    <input type="text" <% if(userType == 'preview'){ %>readonly="readonly"<% } %> class="form-control" name="name" maxlength="40" value="<%- model.attributes.name %>">
                </div>
            </div>
            <div class="form-group clearfix">
                <label>App ID</label>
                <div class="controls">
                    <input type="text" class="form-control" name="appId" readonly="readonly" value="<%- model.attributes.id %>">
                </div>
            </div>
            <div class="form-group clearfix">
                <label>Magnet Message API Key</label>
                <div class="controls">
                    <input type="text" class="form-control" name="appAPIKey" readonly="readonly" value="<%- model.attributes.appAPIKey %>">
                </div>
                <!--<div class="controls">-->
                <!--<button did="regenerate" class="btn btn-primary">Re-generate</button>-->
                <!--<button did="revoke" class="btn btn-primary">Revoke</button>-->
                <!--<span class="tooltip-danger glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="right" title="-->
                <!--Revoking or re-generating the API Key will require changing the key in the mobile app source code to continue messaging services">-->
                <!--</span>-->
                <!--</div>-->
            </div>
            <div class="form-group clearfix">
                <label>Anonymous Access Secret</label>
                <div class="controls controls-grouped">
                    <input type="text" <% if(userType == 'preview'){ %>readonly="readonly"<% } %> class="form-control" name="guestSecret" value="<%- model.attributes.guestSecret || model.attributes.guestSecret %>">
                    <span class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="
                    Used for creating user account from the mobile device">
                    </span>
                </div>
            </div>
            <div class="form-group clearfix">
                <label>External Hostname</label>
                <div class="controls controls-grouped">
                    <input type="text" class="form-control" disabled="disabled" value="<%- configs['mmx.push.callback.host'] %>">
                    <span class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="
                    The public url to be used by mobile clients for acknowledging push notifications.">
                    </span>
                </div>
            </div>
            <div class="form-group clearfix">
                <label>Messaging Client Port</label>
                <div class="controls controls-grouped">
                    <input type="text" class="form-control" disabled="disabled" value="<%- configs['xmpp.socket.plain.port'] %>">
                    <span class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="
                    The messaging port mobile clients will use for communication with the messaging server.">
                    </span>
                </div>
            </div>
            <div class="form-group clearfix">
                <label>Domain</label>
                <div class="controls controls-grouped">
                    <input type="text" class="form-control" disabled="disabled" value="<%- configs['xmpp.domain'] %>">
                    <span class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="
                    An identifier representing the network gateway or 'primary' server to which mobile clients connect.">
                    </span>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form-group clearfix">
                <span class="form-caption">GCM</span>
                <div class="well well-default clearfix">
                    <form role="form">
                        <div class="form-group clearfix">
                            <div class="col-sm-6">
                                <label>Google Project ID</label>
                                <input type="text" class="form-control" name="googleProjectId" placeholder="Google Project ID" value="<%- model.attributes.googleProjectId %>" />
                            </div>
                            <div class="col-sm-6">
                                <label>Google API Key</label>
                                <input type="text" class="form-control" name="googleAPIKey" placeholder="Google API Key" value="<%- model.attributes.googleAPIKey %>" />
                            </div>
                        </div>
                        <div class="form-group clearfix">
                            <div class="col-sm-12">
                                <a href="//www.magnet.com/documentation/message/1.0.2/guide/Set+Up+GCM+Service+for+Messaging.php" target="_blank">How to set up GCM for messaging</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="form-group clearfix">
                <span class="form-caption">APNS</span>
                <div class="well well-default clearfix">
                    <form role="form">
                        <div class="form-group clearfix">
                            <div class="col-sm-12">
                                <label>APNS Certificate</label>
                                <div class="row-fluid">
                                    <div class="col-sm-12 no-padding">
                                        <div id="mmx-settings-apns-cert-status">
                                            <div class="qq-uploader">
                                                <div id="mmx-apns-startupload-btn" class="btn btn-primary" style="position: relative; overflow: hidden; direction: ltr; float:right">
                                                    Upload Certificate
                                                </div>
                                                <ul class="qq-upload-list"></ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <label>APNS Server Type</label>
                                <div class="btn-group btn-toggle clearfix" did="apnsCertProduction">
                                    <button class="btn btn-sm <% if(typeof model.attributes.apnsCertProduction == 'undefined' || model.attributes.apnsCertProduction === false){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="false" type="button">Sandbox</button>
                                    <button class="btn btn-sm <% if(model.attributes.apnsCertProduction === true){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="true" type="button">Production</button>
                                </div>
                            </div>
                            <!--<div class="col-sm-6">-->
                                <!--<label>APNS Password <span class="glyphicon glyphicon-info-sign" data-placement="top" data-toggle="tooltip" data-title="The APNS Password can only be set when uploading an APNS certificate."></span>-->
                                <!--</label>-->
                                <!--<div class="toggling-password-input">-->
                                    <!--<span class="glyphicon glyphicon-eye-close hidden" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to hide the password value."></span>-->
                                    <!--<span class="glyphicon glyphicon-eye-open" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to display the password value."></span>-->
                                    <!--<input type="password" disabled="disabled" class="form-control" name="apnsCertPassword" placeholder="APNS Password" value="<%- model.attributes.apnsCertPassword %>" />-->
                                <!--</div>-->
                            <!--</div>-->
                        </div>
                        <div class="form-group clearfix">
                            <div class="col-sm-12">
                                <a href="//www.magnet.com/documentation/message/1.0.2/guide/Set+Up+APNS+for+Messaging.php" target="_blank">How to set up APNS for messaging</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="form-group clearfix">
                <span class="form-caption">DOWNLOAD CONFIGS</span>
                <div class="well well-default clearfix">
                    <div class="row-fluid">
                        <div class="col-sm-6">
                            <label>Android</label><br />
                            <a href="/rest/apps/<%- model.attributes.id %>/sampleConfig?platform=android" class="btn btn-primary">Download .properties</a>
                        </div>
                        <div class="col-sm-6">
                            <label>iOS</label><br />
                            <a href="/rest/apps/<%- model.attributes.id %>/sampleConfig?platform=ios" class="btn btn-primary">Download .plist</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="button-group clearfix">
        <div class="controls">
            <button did="save" class="btn btn-primary">Save</button>
            <button did="delete" class="btn btn-danger">Delete App</button>
        </div>
    </div>
</script>

<script id="MessagingDashboardItemTmpl" type="text/template">
    <div did="<%- model.attributes.id %>" class="mmx-dashboard-item">
        <div class="media">
            <a class="pull-left" href="#">
                <img src="images/dashboard/delivered_messages.png" alt="delivered messages">
            </a>
            <div class="media-body">
                <h4 class="media-heading">Messages Delivered in the last 7 days: <%- statistics.delivered.total %></h4>
                <p class="media-line">
                    <span class="text <% if(statistics.pushMessageStats.totalDelivered == 0){ %>gray<% }else{ %>green<% } %>">Push Notifications: <%-statistics.pushMessageStats.totalDelivered %></span>
                    <span class="vertical-line">|</span>
                    <span class="text <% if(statistics.inAppMessagesStats.totalDelivered == 0){ %>gray<% }else{ %>blue<% } %>">In-App Messages: <%- statistics.inAppMessagesStats.totalDelivered %></span>
                </p>
                <div class="progress">
                    <div class="progress-bar progress-bar-success" style="width:<%- statistics.delivered.pushPercent %>%">
                        <span class="sr-only"></span>
                    </div>
                    <div class="progress-bar progress-bar-info" style="width:<%- statistics.delivered.msgPercent %>%">
                        <span class="sr-only"></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="media">
            <a class="pull-left" href="#">
                <img src="images/dashboard/pending_messages.png" alt="pending messages">
            </a>
            <div class="media-body">
                <h4 class="media-heading">Messages Pending in the last 7 days:  <%- statistics.pending.total %></h4>
                <p class="media-line">
                    <span class="text <% if(statistics.pushMessageStats.totalPending == 0){ %>gray<% }else{ %>green<% } %>">Push Notifications: <%-statistics.pushMessageStats.totalPending %>
                    <span class="vertical-line">|</span>
                    <span class="text <% if(statistics.inAppMessagesStats.totalPending == 0){ %>gray<% }else{ %>blue<% } %>">In-App Messages: <%- statistics.inAppMessagesStats.totalPending %></span>
                </p>
                <div class="progress">
                    <div class="progress-bar progress-bar-success" style="width:<%- statistics.pending.pushPercent %>%">
                        <span class="sr-only"></span>
                    </div>
                    <div class="progress-bar progress-bar-info" style="width:<%- statistics.pending.msgPercent %>%">
                        <span class="sr-only"></span>
                    </div>
                </div>
            </div>
        </div>
        <hr />
        <div class="media clearfix">
            <a class="pull-left" href="#">
                <img src="images/dashboard/userdevices.png" alt="user and devices">
            </a>
            <div class="media-body">
                <h4 class="media-heading">Devices Registered</h4>
                <p class="text darkgray media-line">
                    Last 7 days: <%- statistics.deviceStats.numDevices %>
                </p>
                <div class="media-alert">
                    <% if(configs['mmx.cluster.max.devices.per.app'] > 0 && configs['mmx.cluster.max.devices.per.app'] <= statistics.deviceStats.totalActive){ %>
                    <i class="fa fa-exclamation-triangle fa-4x" data-toggle="tooltip" data-placement="right" title="
                    This app has reached the maximum device limit. See Endpoints tab for more information."></i>
                    <% } %>
                </div>
            </div>
        </div>
    </div>
</script>

<script id="MessagingAppsListView" type="text/template">
    <option>Select an App</li>
    <% if(col && col.length > 0){ %>
    <% _.each(col, function(model, key){  %>
    <option value="<%- model.attributes.id %>"><%- model.attributes.name %></li>
    <% }); %>
    <% } %>
</script>

<script id="MessagingEndpointsListTmpl" type="text/template">
    <div class="repeater" id="mmx-endpoints-list">
        <div class="repeater-header">
            <div class="clearfix">
                <div class="repeater-header-left">
                    <div class="repeater-controls"></div>
                    <div class="repeater-search">
                        <div class="row-fluid">
                            <div class="col-sm-6 same-line">
                                <button did="actions-sendmessage" class="same-line-button btn btn-primary disabled">Send Message</button>
                                <!--<button did="actions-deleterow" class="same-line-button btn btn-danger disabled">Delete</button>-->
                                <button class="search-btn same-line-button btn btn-primary">Refresh</button>
                                <div class="same-line-control">
                                    <select class="form-control" name="searchby">
                                        <option>Select a search filter</option>
                                        <% _.each(filters, function(filter, key){ %>
                                        <option value="<%- key %>">Search by <%- filter.title %></option>
                                        <% }); %>
                                    </select>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="searchby-input-container"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="repeater-header-right hidden">
                    <div class="btn-group selectlist repeater-filters" data-resize="auto">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                            <span class="selected-label">&nbsp;</span>
                            <span class="caret"></span>
                            <span class="sr-only">Toggle Filters</span>
                        </button>
                        <ul class="dropdown-menu hidden" role="menu">
                            <li data-value="all" data-selected="true"><a href="#">All</a></li>
                            <li data-value="errorsonly"><a href="#">Errors Only</a></li>
                        </ul>
                        <input class="hidden hidden-field" name="filterSelection" readonly="readonly" aria-hidden="true" type="text"/>
                    </div>
                    <div class="btn-group repeater-views hidden" data-toggle="buttons">
                        <label class="btn btn-default active">
                            <input name="repeaterViews" type="radio" value="datagrid">
                            <span class="glyphicon glyphicon-list">
                                <span class="sr-only">List View</span>
                            </span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div class="repeater-viewport">
            <div class="repeater-canvas"></div>
            <div class="loader repeater-loader"></div>
        </div>
        <div class="repeater-footer">
            <div class="repeater-footer-left">
                <div class="repeater-itemization">
                    <span><span class="repeater-start"></span> - <span class="repeater-end"></span> of <span class="repeater-count"></span> items</span>
                    <div class="btn-group selectlist" data-resize="auto">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                            <span class="selected-label">&nbsp;</span>
                            <span class="caret"></span>
                            <span class="sr-only">Toggle Dropdown</span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                            <li data-value="5"><a href="#">5</a></li>
                            <li data-value="10" data-selected="true"><a href="#">10</a></li>
                            <li data-value="20"><a href="#">20</a></li>
                            <li data-value="50" data-foo="bar" data-fizz="buzz"><a href="#">50</a></li>
                            <li data-value="100"><a href="#">100</a></li>
                        </ul>
                        <input class="hidden hidden-field" name="itemsPerPage" readonly="readonly" aria-hidden="true" type="text"/>
                    </div>
                    <span>Per Page</span>
                </div>
            </div>
            <div class="repeater-footer-right">
                <div class="repeater-pagination">
                    <button type="button" class="btn btn-default btn-sm repeater-prev">
                        <span class="glyphicon glyphicon-chevron-left"></span>
                        <span class="sr-only">Previous Page</span>
                    </button>
                    <label id="MyPageLabel" class="page-label">Page</label>
                    <div class="repeater-primaryPaging active">
                        <div class="input-group input-append dropdown combobox">
                            <input type="text" class="form-control" aria-labelledby="MyPageLabel">
                            <div class="input-group-btn">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                    <span class="caret"></span>
                                    <span class="sr-only">Toggle Dropdown</span>
                                </button>
                                <ul class="dropdown-menu dropdown-menu-right"></ul>
                            </div>
                        </div>
                    </div>
                    <input type="text" class="form-control repeater-secondaryPaging" aria-labelledby="MyPageLabel">
                    <span>of <span class="repeater-pages"></span></span>
                    <button type="button" class="btn btn-default btn-sm repeater-next">
                        <span class="glyphicon glyphicon-chevron-right"></span>
                        <span class="sr-only">Next Page</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</script>

<script id="MessagingDeviceDetailsTmpl" type="text/template">
    <b>Device Details</b>
    <dl class="dl-horizontal">
        <dt>Device Id</dt>
        <dd><%- device.deviceId %></dd>
        <dt>Device Name</dt>
        <dd><%- device.name %></dd>
        <dt>OS</dt>
        <dd><%- device.osType %></dd>
        <dt>OS Version</dt>
        <dd><%- device.osVersion %></dd>
        <dt>Token Type</dt>
        <dd><%- device.tokenType %></dd>
        <dt>Client Token</dt>
        <dd><%- device.clientToken %></dd>
        <dt>Carrier Info</dt>
        <dd><%- device.carrierInfo %></dd>
        <dt>Phone Number</dt>
        <dd><%- device.phoneNumber %></dd>
        <dt>Created</dt>
        <dd><%- device.created %></dd>
        <dt>Updated</dt>
        <dd><%- device.updated %></dd>
        <dt>Status</dt>
        <dd><%- device.status %></dd>
        <% if(tags){ %>
        <dt>Tags</dt>
        <dd>
            <% _.each(tags, function(tag, key){ %>
            <span class="label label-primary"><%- tag %></span>
            <% }); %>
        </dd>
        <% } %>
    </dl>
    <% if(user){ %>
    <b>Device Owner Details</b>
    <dl class="dl-horizontal">
        <dt>User Id</dt>
        <dd><%- user.userId %></dd>
        <dt>Name</dt>
        <dd><%- user.name %></dd>
        <dt>Email</dt>
        <dd><%- user.email %></dd>
        <dt>Created</dt>
        <dd><%- user.creationDate %></dd>
        <dt>Updated</dt>
        <dd><%- user.modificationDate %></dd>
        <!--<dt>Properties</dt>-->
        <!--<dd><%- user.properties %></dd>-->
    </dl>
    <% } %>
</script>

<script id="MessagingUsersListTmpl" type="text/template">
    <div class="repeater messaging-list" id="mmx-users-list">
        <div class="repeater-header">
            <div class="clearfix">
                <div class="generic-control-container">
                    <div class="repeater-icon-controls">
                        <div class="btn-group repeater-views" data-toggle="buttons">
                            <span id="mmx-users-show-create-modal" class="glyphicon glyphicon-plus" data-placement="bottom" data-toggle="tooltip" data-title="Add User"></span>
                            <span class="glyphicon glyphicon-pencil disabled disableable" data-placement="bottom" data-toggle="tooltip" data-title="Edit User"></span>
                            <span class="glyphicon glyphicon-trash disabled disableable" data-placement="bottom" data-toggle="tooltip" data-title="Delete User"></span>
                            <!--<span class="fa fa-2x fa-lock disabled disableable" data-placement="bottom" data-toggle="tooltip" data-title="Lock User"></span>-->
                            <!--<span class="fa fa-2x fa-unlock-alt disabled disableable" data-placement="bottom" data-toggle="tooltip" data-title="Unlock User"></span>-->
                        </div>
                    </div>
                    <div class="repeater-header-left">
                        <div class="col-sm-4 same-line">
                            <button class="mmx-user-list-refresh-btn same-line-button btn btn-primary">Refresh</button>
                            <div class="same-line-control">
                                <select class="form-control" name="searchby">
                                    <option>Select a search filter</option>
                                    <% _.each(filters, function(filter, key){ %>
                                    <option value="<%- key %>">Search by <%- filter.title %></option>
                                    <% }); %>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-8">
                            <div class="searchby-input-container"></div>
                        </div>
                    </div>
                    <div class="repeater-header-right hidden"">
                    <div class="btn-group selectlist repeater-filters" data-resize="auto">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                            <span class="selected-label">&nbsp;</span>
                            <span class="caret"></span>
                            <span class="sr-only">Toggle Filters</span>
                        </button>
                        <ul class="dropdown-menu role="menu">
                        <li data-value="all" data-selected="true"><a href="#">All</a></li>
                        <li data-value="errorsonly"><a href="#">Errors Only</a></li>
                        </ul>
                        <input class="hidden hidden-field" name="filterSelection" readonly="readonly" aria-hidden="true" type="text"/>
                    </div>
                    <div class="btn-group repeater-views hidden" data-toggle="buttons">
                        <label class="btn btn-default active">
                            <input name="repeaterViews" type="radio" value="datagrid">
                            <span class="glyphicon glyphicon-list">
                                <span class="sr-only">List View</span>
                            </span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="repeater-viewport">
        <div class="repeater-canvas"></div>
        <div class="loader repeater-loader"></div>
    </div>
    <div class="repeater-footer">
        <div class="repeater-footer-left">
            <div class="repeater-itemization">
                <span><span class="repeater-start"></span> - <span class="repeater-end"></span> of <span class="repeater-count"></span> items</span>
                <div class="btn-group selectlist" data-resize="auto">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                        <span class="selected-label">&nbsp;</span>
                        <span class="caret"></span>
                        <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                        <li data-value="5"><a href="#">5</a></li>
                        <li data-value="10" data-selected="true"><a href="#">10</a></li>
                        <li data-value="20"><a href="#">20</a></li>
                        <li data-value="50" data-foo="bar" data-fizz="buzz"><a href="#">50</a></li>
                        <li data-value="100"><a href="#">100</a></li>
                    </ul>
                    <input class="hidden hidden-field" name="itemsPerPage" readonly="readonly" aria-hidden="true" type="text"/>
                </div>
                <span>Per Page</span>
            </div>
        </div>
        <div class="repeater-footer-right">
            <div class="repeater-pagination">
                <button type="button" class="btn btn-default btn-sm repeater-prev">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                    <span class="sr-only">Previous Page</span>
                </button>
                <label id="MyPageLabel" class="page-label">Page</label>
                <div class="repeater-primaryPaging active">
                    <div class="input-group input-append dropdown combobox">
                        <input type="text" class="form-control" aria-labelledby="MyPageLabel">
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                <span class="caret"></span>
                                <span class="sr-only">Toggle Dropdown</span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-right"></ul>
                        </div>
                    </div>
                </div>
                <input type="text" class="form-control repeater-secondaryPaging" aria-labelledby="MyPageLabel">
                <span>of <span class="repeater-pages"></span></span>
                <button type="button" class="btn btn-default btn-sm repeater-next">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                    <span class="sr-only">Next Page</span>
                </button>
            </div>
        </div>
    </div>
    </div>
</script>

<script id="CreateUserView" type="text/template">
    <span class="alert-container"></span>
    <div class="form-group clearfix">
        <div class="col-sm-12">
            <label>Username</label>
            <input type="text" class="form-control" name="username" maxlength="42" placeholder="Username" <% if(typeof model != 'undefined'){ %>disabled="disabled"<% } %> value="<%- typeof model != 'undefined' ? model.username : '' %>" />
        </div>
    </div>
    <div class="form-group clearfix">
        <div class="col-sm-<% if(typeof provisionDb === 'undefined' || provisionDb === 'true'){ %>6<% }else{ %>12<% } %>">
            <label>Password</label>
            <input type="password" maxlength="32" class="form-control" name="password" placeholder="Password" value="" />
        </div>
        <% if(typeof provisionDb === 'undefined' || provisionDb === 'true'){ %>
        <div class="col-sm-6">
            <label>Password (repeat)</label>
            <input type="password" maxlength="32" class="form-control" name="passwordVerify" placeholder="Password (repeat)" value="" />
        </div>
        <% } %>
    </div>
    <div class="user-profile-group form-group clearfix">
        <div class="col-sm-6">
            <label>Email Address</label>
            <input type="text" class="form-control" name="email" placeholder="Email Address" value="<%- typeof model != 'undefined' ? model.email : '' %>" />
        </div>
        <div class="col-sm-6">
            <label>Name</label>
            <input type="text" class="form-control" name="name" placeholder="Full Name" value="<%- typeof model != 'undefined' ? model.name : '' %>" />
        </div>
    </div>
</script>

<script id="MessagingUserDevicesView" type="text/template">
    <tr did="el<%- uid %>" class="nohover">
        <td colspan="1"></td>
        <td colspan="6">
            <table class="table table-bordered table-hover table-striped">
                <thead>
                <tr>
                    <th>Device ID</th>
                    <th>OS Type</th>
                    <th>Token Type</th>
                    <th>Name</th>
                    <th>Phone Number</th>
                    <th>Carrier</th>
                    <th>Status</th>
                    <th>Test Message</th>
                </tr>
                </thead>
                <tbody>
                <% if(devices && devices.length > 0){ %>
                <% _.each(devices, function(device, key){  %>
                <tr did="<%- device.deviceId %>">
                    <td><%- device.deviceId %></td>
                    <td><%- device.osType %></td>
                    <td><%- device.tokenType %></td>
                    <td><%- device.name %></td>
                    <td><%- device.phoneNumber %></td>
                    <td><%- device.carrierInfo %></td>
                    <td><%- device.status %></td>
                    <td><button btype="device" class="sendmessage btn btn-sm btn-primary">Send</button></td>
                </tr>
                <% }); %>
                <% }else{ %>
                <tr><td colspan="8">No devices associated with this endpoint.</td></tr>
                <% } %>
                </tbody>
            </table>
        </td>
    </tr>
</script>

<script id="MessagingDeviceMessagesListView" type="text/template">
    <table class="table table-bordered table-hover table-striped">
        <thead>
        <tr>
            <th>Date Sent</th>
            <th>Type</th>
            <th>State</th>
        </tr>
        </thead>
        <tbody>
        <% if(col && col.length > 0){ %>
        <% _.each(col, function(msg, key){ if(key < 5){ %>
        <tr<% if(key === 0 && hl){ %> class="highlighted-row green" style="display:none"<% } %>>
            <td><%- utils.fromISO8601(msg.dateSent) %></td>
            <td><%- msg.type %></td>
            <td><%- msg.state %></td>
        </tr>
        <% } }); %>
        <% }else{ %>
        <tr><td colspan="3">No messages have been sent to this endpoint.</td></tr>
        <% } %>
        </tbody>
    </table>
</script>

<script id="MessagingMessagesListTmpl" type="text/template">
    <div class="repeater messaging-list" id="mmx-messages-list">
        <div class="repeater-header">
            <div class="clearfix">
                <div class="repeater-header-left">
                    <div class="col-sm-4 same-line">
                        <button class="mmx-messagelist-refresh-btn same-line-button btn btn-primary">Refresh</button>
                        <div class="same-line-control">
                            <select class="form-control" name="searchby">
                                <option>Select a search filter</option>
                                <% _.each(filters, function(filter, key){ %>
                                <option value="<%- key %>">Search by <%- filter.title %></option>
                                <% }); %>
                            </select>
                        </div>
                    </div>
                    <div class="col-sm-8">
                        <div class="searchby-input-container"></div>
                    </div>
                </div>
                <div class="repeater-header-right hidden"">
                    <div class="btn-group selectlist repeater-filters" data-resize="auto">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                            <span class="selected-label">&nbsp;</span>
                            <span class="caret"></span>
                            <span class="sr-only">Toggle Filters</span>
                        </button>
                        <ul class="dropdown-menu role="menu">
                            <li data-value="all" data-selected="true"><a href="#">All</a></li>
                            <li data-value="errorsonly"><a href="#">Errors Only</a></li>
                        </ul>
                        <input class="hidden hidden-field" name="filterSelection" readonly="readonly" aria-hidden="true" type="text"/>
                    </div>
                    <div class="btn-group repeater-views hidden" data-toggle="buttons">
                        <label class="btn btn-default active">
                            <input name="repeaterViews" type="radio" value="datagrid">
                            <span class="glyphicon glyphicon-list">
                                <span class="sr-only">List View</span>
                            </span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div class="repeater-viewport">
            <div class="repeater-canvas"></div>
            <div class="loader repeater-loader"></div>
        </div>
        <div class="repeater-footer">
            <div class="repeater-footer-left">
                <div class="repeater-itemization">
                    <span><span class="repeater-start"></span> - <span class="repeater-end"></span> of <span class="repeater-count"></span> items</span>
                    <div class="btn-group selectlist" data-resize="auto">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                            <span class="selected-label">&nbsp;</span>
                            <span class="caret"></span>
                            <span class="sr-only">Toggle Dropdown</span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                            <li data-value="5"><a href="#">5</a></li>
                            <li data-value="10" data-selected="true"><a href="#">10</a></li>
                            <li data-value="20"><a href="#">20</a></li>
                            <li data-value="50" data-foo="bar" data-fizz="buzz"><a href="#">50</a></li>
                            <li data-value="100"><a href="#">100</a></li>
                        </ul>
                        <input class="hidden hidden-field" name="itemsPerPage" readonly="readonly" aria-hidden="true" type="text"/>
                    </div>
                    <span>Per Page</span>
                </div>
            </div>
            <div class="repeater-footer-right">
                <div class="repeater-pagination">
                    <button type="button" class="btn btn-default btn-sm repeater-prev">
                        <span class="glyphicon glyphicon-chevron-left"></span>
                        <span class="sr-only">Previous Page</span>
                    </button>
                    <label id="MyPageLabel" class="page-label">Page</label>
                    <div class="repeater-primaryPaging active">
                        <div class="input-group input-append dropdown combobox">
                            <input type="text" class="form-control" aria-labelledby="MyPageLabel">
                            <div class="input-group-btn">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                    <span class="caret"></span>
                                    <span class="sr-only">Toggle Dropdown</span>
                                </button>
                                <ul class="dropdown-menu dropdown-menu-right"></ul>
                            </div>
                        </div>
                    </div>
                    <input type="text" class="form-control repeater-secondaryPaging" aria-labelledby="MyPageLabel">
                    <span>of <span class="repeater-pages"></span></span>
                    <button type="button" class="btn btn-default btn-sm repeater-next">
                        <span class="glyphicon glyphicon-chevron-right"></span>
                        <span class="sr-only">Next Page</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</script>

<script id="MessagingNotificationsListTmpl" type="text/template">
    <div class="repeater messaging-list" id="mmx-notifications-list">
        <div class="repeater-header">
            <div class="clearfix">
                <div class="repeater-header-left">
                    <div class="col-sm-4 same-line">
                        <button class="mmx-messagelist-refresh-btn same-line-button btn btn-primary">Refresh</button>
                        <div class="same-line-control">
                            <select class="form-control" name="searchby">
                                <option>Select a search filter</option>
                                <% _.each(filters, function(filter, key){ %>
                                <option value="<%- key %>">Search by <%- filter.title %></option>
                                <% }); %>
                            </select>
                        </div>
                    </div>
                    <div class="col-sm-8">
                        <div class="searchby-input-container"></div>
                    </div>
                </div>
                <div class="repeater-header-right hidden"">
                <div class="btn-group selectlist repeater-filters" data-resize="auto">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                        <span class="selected-label">&nbsp;</span>
                        <span class="caret"></span>
                        <span class="sr-only">Toggle Filters</span>
                    </button>
                    <ul class="dropdown-menu role="menu">
                    <li data-value="all" data-selected="true"><a href="#">All</a></li>
                    <li data-value="errorsonly"><a href="#">Errors Only</a></li>
                    </ul>
                    <input class="hidden hidden-field" name="filterSelection" readonly="readonly" aria-hidden="true" type="text"/>
                </div>
                <div class="btn-group repeater-views hidden" data-toggle="buttons">
                    <label class="btn btn-default active">
                        <input name="repeaterViews" type="radio" value="datagrid">
                            <span class="glyphicon glyphicon-list">
                                <span class="sr-only">List View</span>
                            </span>
                    </label>
                </div>
            </div>
        </div>
    </div>
    <div class="repeater-viewport">
        <div class="repeater-canvas"></div>
        <div class="loader repeater-loader"></div>
    </div>
    <div class="repeater-footer">
        <div class="repeater-footer-left">
            <div class="repeater-itemization">
                <span><span class="repeater-start"></span> - <span class="repeater-end"></span> of <span class="repeater-count"></span> items</span>
                <div class="btn-group selectlist" data-resize="auto">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                        <span class="selected-label">&nbsp;</span>
                        <span class="caret"></span>
                        <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                        <li data-value="5"><a href="#">5</a></li>
                        <li data-value="10" data-selected="true"><a href="#">10</a></li>
                        <li data-value="20"><a href="#">20</a></li>
                        <li data-value="50" data-foo="bar" data-fizz="buzz"><a href="#">50</a></li>
                        <li data-value="100"><a href="#">100</a></li>
                    </ul>
                    <input class="hidden hidden-field" name="itemsPerPage" readonly="readonly" aria-hidden="true" type="text"/>
                </div>
                <span>Per Page</span>
            </div>
        </div>
        <div class="repeater-footer-right">
            <div class="repeater-pagination">
                <button type="button" class="btn btn-default btn-sm repeater-prev">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                    <span class="sr-only">Previous Page</span>
                </button>
                <label id="MyPageLabel" class="page-label">Page</label>
                <div class="repeater-primaryPaging active">
                    <div class="input-group input-append dropdown combobox">
                        <input type="text" class="form-control" aria-labelledby="MyPageLabel">
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                <span class="caret"></span>
                                <span class="sr-only">Toggle Dropdown</span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-right"></ul>
                        </div>
                    </div>
                </div>
                <input type="text" class="form-control repeater-secondaryPaging" aria-labelledby="MyPageLabel">
                <span>of <span class="repeater-pages"></span></span>
                <button type="button" class="btn btn-default btn-sm repeater-next">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                    <span class="sr-only">Next Page</span>
                </button>
            </div>
        </div>
    </div>
    </div>
</script>

<script id="CreateTopicView" type="text/template">
    <span class="alert-container"></span>
    <div class="form-group clearfix">
        <div class="col-sm-12">
            <label>Name <span class="required">*</span></label>
            <div class="controls">
                <input type="text" class="form-control" name="topicName" maxlength="50" placeholder="The name of your new topic" <% if(typeof model != 'undefined'){ %>disabled="disabled"<% } %> value="<%- typeof model != 'undefined' ? model.topicName : '' %>" />
            </div>
        </div>
    </div>
    <div class="form-group clearfix">
        <div class="col-sm-12">
            <label>Description</label>
            <div class="controls">
                <input type="text" class="form-control" name="description" maxlength="100" placeholder="A description of your topic" <% if(typeof model != 'undefined'){ %>disabled="disabled"<% } %> value="<%- typeof model != 'undefined' ? model.description : ''  %>" />
            </div>
        </div>
    </div>
    <div class="form-group clearfix">
        <div class="col-sm-12">
            <label>Tags</label>
            <div class="topic-tag-container controls">
                <div class="same-line clearfix">
                    <div class="same-line-button btn btn-primary glyphicon glyphicon-plus"></div>
                    <div class="same-line-control">
                        <input type="text" maxlength="25" name="tagName" class="form-control" placeholder="Add Tag">
                    </div>
                </div>
                <div name="tags" class="pillbox">
                    <ul class="clearfix pill-group pill-container"></ul>
                </div>
            </div>
        </div>
    </div>
</script>

<script id="TagsListView" type="text/template">
    <% _.each(tags, function(tag, id){ %>
    <li class="btn btn-default pill">
        <span><%- tag %></span>
        <span class="glyphicon glyphicon-close">
            <span class="sr-only">Remove</span>
        </span>
    </li>
    <% }); %>
    <li class="pillbox-input-wrap btn-group">
        <a class="pillbox-more">and <span class="pillbox-more-count"></span> more...</a>
        <button type="button" class="dropdown-toggle sr-only">
            <span class="caret"></span>
            <span class="sr-only">Toggle Dropdown</span>
        </button>
        <ul class="suggest dropdown-menu" role="menu" data-toggle="dropdown" data-flip="auto"></ul>
    </li>
</script>

<script id="MessagingTopicsListView" type="text/template">
    <div class="repeater messaging-list" id="mmx-topics-list">
        <div class="repeater-header">
            <div class="clearfix">
                <div class="generic-control-container">
                    <div class="repeater-icon-controls">
                        <div class="btn-group repeater-views" data-toggle="buttons">
                            <span id="mmx-topics-show-create-modal" class="glyphicon glyphicon-plus" data-placement="bottom" data-toggle="tooltip" data-title="Add Topic"></span>
                            <span class="glyphicon glyphicon-pencil disabled disableable" data-placement="bottom" data-toggle="tooltip" data-title="Edit Topic"></span>
                            <span class="glyphicon glyphicon-envelope disabled disableable" data-placement="bottom" data-toggle="tooltip" data-title="Publish Message"></span>
                            <span class="glyphicon glyphicon-trash disabled disableable" data-placement="bottom" data-toggle="tooltip" data-title="Delete Topic"></span>
                        </div>
                    </div>
                    <div class="repeater-header-left">
                        <div class="col-sm-4 same-line">
                            <button class="mmx-topic-list-refresh-btn same-line-button btn btn-primary">Refresh</button>
                            <div class="same-line-control">
                                <select class="form-control" name="searchby">
                                    <option>Select a search filter</option>
                                    <% _.each(filters, function(filter, key){ %>
                                    <option value="<%- key %>">Search by <%- filter.title %></option>
                                    <% }); %>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-8">
                            <div class="searchby-input-container"></div>
                        </div>
                    </div>
                    <div class="repeater-header-right hidden"">
                    <div class="btn-group selectlist repeater-filters" data-resize="auto">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                            <span class="selected-label">&nbsp;</span>
                            <span class="caret"></span>
                            <span class="sr-only">Toggle Filters</span>
                        </button>
                        <ul class="dropdown-menu role="menu">
                        <li data-value="all" data-selected="true"><a href="#">All</a></li>
                        <li data-value="errorsonly"><a href="#">Errors Only</a></li>
                        </ul>
                        <input class="hidden hidden-field" name="filterSelection" readonly="readonly" aria-hidden="true" type="text"/>
                    </div>
                    <div class="btn-group repeater-views hidden" data-toggle="buttons">
                        <label class="btn btn-default active">
                            <input name="repeaterViews" type="radio" value="datagrid">
                            <span class="glyphicon glyphicon-list">
                                <span class="sr-only">List View</span>
                            </span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="repeater-viewport">
        <div class="repeater-canvas"></div>
        <div class="loader repeater-loader"></div>
    </div>
    <div class="repeater-footer">
        <div class="repeater-footer-left">
            <div class="repeater-itemization">
                <span><span class="repeater-start"></span> - <span class="repeater-end"></span> of <span class="repeater-count"></span> items</span>
                <div class="btn-group selectlist" data-resize="auto">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                        <span class="selected-label">&nbsp;</span>
                        <span class="caret"></span>
                        <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                        <li data-value="5"><a href="#">5</a></li>
                        <li data-value="10" data-selected="true"><a href="#">10</a></li>
                        <li data-value="20"><a href="#">20</a></li>
                        <li data-value="50" data-foo="bar" data-fizz="buzz"><a href="#">50</a></li>
                        <li data-value="100"><a href="#">100</a></li>
                    </ul>
                    <input class="hidden hidden-field" name="itemsPerPage" readonly="readonly" aria-hidden="true" type="text"/>
                </div>
                <span>Per Page</span>
            </div>
        </div>
        <div class="repeater-footer-right">
            <div class="repeater-pagination">
                <button type="button" class="btn btn-default btn-sm repeater-prev">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                    <span class="sr-only">Previous Page</span>
                </button>
                <label id="MyPageLabel" class="page-label">Page</label>
                <div class="repeater-primaryPaging active">
                    <div class="input-group input-append dropdown combobox">
                        <input type="text" class="form-control" aria-labelledby="MyPageLabel">
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                <span class="caret"></span>
                                <span class="sr-only">Toggle Dropdown</span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-right"></ul>
                        </div>
                    </div>
                </div>
                <input type="text" class="form-control repeater-secondaryPaging" aria-labelledby="MyPageLabel">
                <span>of <span class="repeater-pages"></span></span>
                <button type="button" class="btn btn-default btn-sm repeater-next">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                    <span class="sr-only">Next Page</span>
                </button>
            </div>
        </div>
    </div>
    </div>
</script>

<script id="MessagingQuickstartTmpl" type="text/template">

    <div>

        <ul class="nav nav-tabs" role="tablist">
            <li role="presentation" class="active"><a href="#mmx-quickstart-android-new" aria-controls="mmx-quickstart-android-new" role="tab" data-toggle="tab">
                <i class="fa fa-2x fa-android"></i>
            </a></li>
            <li role="presentation"><a href="#mmx-quickstart-ios-new" aria-controls="mmx-quickstart-ios-new" role="tab" data-toggle="tab">
                <i class="fa fa-2x fa-apple"></i>
            </a></li>
        </ul>

        <div class="tab-content bordered">
            <div role="tabpanel" class="tab-pane active" id="mmx-quickstart-android-new">
                <ol class="mmx-nav">
                    <li><a href="http://developer.android.com/sdk/installing/studio.html" target="_blank">Install Android Studio</a></li>
                    <li>Download the <a class="download-compiled-source" did="android" href="#">Quickstart Android App</a></li>
                    <li>Import the App into Android Studio</li>
                    <li>Check the configuration file, "res/raw/quickstart.properties", has imported the app settings
                        from the settings tabs. You can download a new file from the <a href="#settings">Settings</a> tab at any time.</li>
                    <li>Run the app. (either in the Android emulator or install the app on a device)</li>
                    <li>Check out the actions below for next steps</li>
                </ol>
            </div>
            <div role="tabpanel" class="tab-pane" id="mmx-quickstart-ios-new">
                <ol class="mmx-nav">
                    <li><a href="https://developer.apple.com/xcode/downloads/" target="_blank">Install Xcode</a></li>
                    <li>Download the <a class="download-compiled-source" did="ios" href="#">Quickstart iOS App</a></li>
                    <li>Verify the "Configurations.plist" file included in the project matches the values for your
                        app settings as shown in the <a href="#settings">Settings</a> tab.</li>
                    <li>Build and run the app in Xcode. (either in the Simulator or install the app on a device)</li>
                    <li>Check out the actions below for next steps</li>
                </ol>
            </div>
        </div>

    </div>

    <h4>Next Steps</h4>

    <div class="quickstart-next-steps row-fluid equal-height">
        <div class="col-md-4">
            <div class="panel panel-success">
                <div class="panel-heading">
                    Using the Quickstart App
                </div>
                <div class="panel-body">
                    The path of the righteous man is beset on all sides by the iniquities of the selfish and the tyranny
                    of evil men. Blessed is he who, in the name of charity and good will, shepherds the weak through the
                    valley of darkness, for he is truly his brother's keeper and the finder of lost children.
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="panel panel-success">
                <div class="panel-heading">
                    Take a Tour
                </div>
                <div class="panel-body">
                    Learn about the different feature of Magnet's Sandbox.
                    <div class="centered">
                        <button class="btn btn-info btn-lg" disabled="disabled">Start Tour</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="panel panel-success">
                <div class="panel-heading">
                    Developer Guide
                </div>
                <div class="panel-body">
                    <p>Need help? Want to learn more?</p>
                    <p>Check out the <a href="//www.magnet.com/documentation/message/1.0.2/guide/" target="_blank" title="Magnet Message Developer Guide">developer guide</a></p>
                </div>
            </div>
        </div>
    </div>

</script>

<script id="MessagingProjectAdvancedView" type="text/template">

    <div class="form-group clearfix">
        <span class="form-caption">PUSH CALLBACK URL SETTINGS</span>
        <div class="well well-default clearfix">
            <form role="form">
                <div class="form-group clearfix">
                    <div class="col-sm-6">
                        <label>External Hostname
                            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The public hostname to be used by mobile clients for acknowledging push notifications."></span>
                        </label>
                        <input type="text" name="mmx.push.callback.host" class="form-control" placeholder="A public hostname" value="<%- config['mmx.push.callback.host'] %>" />
                    </div>
                    <div class="col-sm-2">
                        <label>External Port
                            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The public port to be used by mobile clients for acknowledging push notifications."></span>
                        </label>
                        <input type="text" maxlength="10" name="mmx.push.callback.port" class="form-control" placeholder="A public port" value="<%- config['mmx.push.callback.port'] %>" />
                    </div>
                    <div class="col-sm-3">
                        <label>External Protocol
                            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The public protocol to be used by mobile clients for acknowledging push notifications."></span>
                        </label>
                        <div class="btn-group btn-toggle" did="mmx.push.callback.protocol">
                            <button class="btn btn-sm <% if(typeof config['mmx.push.callback.protocol'] == 'undefined' || config['mmx.push.callback.protocol'] === 'http'){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="http" type="button">HTTP</button>
                            <button class="btn btn-sm <% if(config['mmx.push.callback.protocol'] === 'https'){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="https" type="button">SSL</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="form-group clearfix">
        <span class="form-caption">OPERATIONAL MESSAGING SETTINGS</span>
        <div class="well well-default clearfix">
            <form role="form">
                <div class="form-group clearfix">
                    <div class="col-sm-2">
                        <label>Wakeup Frequency
                            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="Frequency in seconds for sending a wakeup to a device."></span>
                        </label>
                        <input type="text" maxlength="10" name="mmx.wakeup.frequency" class="form-control" placeholder="Frequency in seconds" value="<%- config['mmx.wakeup.frequency'] %>" />
                    </div>
                    <div class="col-sm-2">
                        <label>Retry Interval
                            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The time interval in minutes between consecutive message retry attempts."></span>
                        </label>
                        <input type="text" maxlength="10" name="mmx.retry.interval.minutes" class="form-control" placeholder="Time interval in minutes" value="<%- config['mmx.retry.interval.minutes'] %>" />
                    </div>
                    <div class="col-sm-2">
                        <label>Retry Count
                            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The count for the number of times a message delivery will be attempted."></span>
                        </label>
                        <input type="text" maxlength="10" name="mmx.retry.count" class="form-control" placeholder="message retry count" value="<%- config['mmx.retry.count'] %>" />
                    </div>
                    <div class="col-sm-2">
                        <label>Timeout Period
                            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The time period in minutes after which server will stop attempting to deliver message."></span>
                        </label>
                        <input type="text" maxlength="10" name="mmx.timeout.period.minutes" class="form-control" placeholder="Timeout period in minutes" value="<%- config['mmx.timeout.period.minutes'] %>" />
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="form-group clearfix">
        <span class="form-caption">SECURITY SETTINGS</span>
        <div class="well well-default clearfix">
            <form role="form">
                <div class="form-group clearfix">
                    <div class="col-sm-2">
                        <label>Mobile Client TLS
                            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="Enables security for mobile clients."></span>
                        </label>
                        <div class="btn-group btn-toggle" did="xmpp.client.tls.policy">
                            <button class="btn btn-sm <% if(config['xmpp.client.tls.policy'] === 'required'){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="required" type="button">Enabled</button>
                            <button class="btn btn-sm <% if(typeof config['xmpp.client.tls.policy'] == 'undefined' || config['xmpp.client.tls.policy'] === 'optional'){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="optional" type="button">Disabled</button>
                        </div>
                    </div>
                    <div class="col-sm-2">
                        <label>Multi-Tenancy
                            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="In Relaxed mode, messaging apps are accessible by all developers. In Strict mode, apps are only accessible by the developer who created the app."></span>
                        </label>
                        <div class="btn-group btn-toggle" did="mmx.admin.api.access.control.mode">
                            <button class="btn btn-sm <% if(config['mmx.admin.api.access.control.mode'] === 'relaxed'){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="relaxed" type="button">Relaxed</button>
                            <button class="btn btn-sm <% if(typeof config['mmx.admin.api.access.control.mode'] == 'undefined' || config['mmx.admin.api.access.control.mode'] === 'strict'){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="strict" type="button">Strict</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="button-group clearfix">
        <div class="controls">
            <button did="save" class="btn btn-primary">Save</button>
        </div>
    </div>
</script>

<script id="AdvancedSearchTmpl" type="text/template">
    <div class="advsearch">
        <label class="pull-left">Add a Search Filter</label>
        <div class="form-group">
            <div class="input-group">
                <select class="form-control" name="filters">
                    <% _.each(filters, function(filter, key){  %>
                    <option value="<%- key %>"><%- filter.title %></option>
                    <% }); %>
                </select>
                <div class="advsearch-addfilter btn btn-primary input-group-addon glyphicon glyphicon-plus"></div>
            </div>
        </div>
        <div class="panel-group" id="<%- identifier %>">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#<%- identifier %>" href="#collapse<%- identifier %>" class="collapsed">
                            Filters <span></span>
                        </a>
                    </h4>
                </div>
                <div id="collapse<%- identifier %>" class="panel-collapse collapse">
                    <div class="panel-body">
                        <div class="advsearch-filter-list"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="advsearch-refresh btn btn-primary">Refresh</div>
    </div>
</script>

<script id="ADVdaterangeFilter" type="text/template">
    <div did="<%- name %>" class="clearfix advsearch-filter-item">
        <div class="row-fluid">
            <div class="col-sm-6">
                <div class="fromDt datepicker clearfix dropdown" data-initialize="datepicker">
                    <div class="input-group">
                        <input type="text" class="form-control" name="fromDt" placeholder="Start Date" />
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                <span class="glyphicon glyphicon-calendar"></span>
                                <span class="sr-only">Toggle Calendar</span>
                            </button>
                            <div class="dropdown-menu dropdown-menu-right calendar-menu"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 second">
                <div class="toDt datepicker dropdown" data-initialize="datepicker">
                    <div class="input-group">
                        <input type="text" class="form-control" name="toDt" placeholder="End Date" />
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                <span class="glyphicon glyphicon-calendar"></span>
                                <span class="sr-only">Toggle Calendar</span>
                            </button>
                            <div class="dropdown-menu dropdown-menu-right calendar-menu"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>

<script id="ADVsearchFilter" type="text/template">
    <div did="<%- name %>" class="advsearch-filter-item">
        <input type="text" name="<%- filter.type %>" class="form-control" placeholder="<%- filter.title %>" value="" />
    </div>
</script>

<script id="ADVenumFilter" type="text/template">
    <div did="<%- name %>" class="advsearch-filter-item">
        <select class="form-control" name="<%- filter.type %>">
            <% _.each(filter.props, function(prop, key){  %>
            <option value="<%- prop.key %>"><%- prop.val %></option>
            <% }); %>
        </select>
    </div>
</script>

<script id="usernameMessageFilterView" type="text/template">
    <div did="<%- model.id %>" class="alert alert-info fade in clearfix">
        <label>Full Name</label>
        <input type="text" name="name" class="form-control" placeholder="Full Name" value="" />
        <span class="glyphicon glyphicon-remove" data-dismiss="alert"></span>
    </div>
</script>

<script id="useremailMessageFilterView" type="text/template">
    <div did="<%- model.id %>" class="alert alert-info fade in clearfix">
        <label>Email Address</label>
        <input type="text" name="email" class="form-control" placeholder="Email Address" value="" />
        <span class="glyphicon glyphicon-remove" data-dismiss="alert"></span>
    </div>
</script>

<script id="devicetypeMessageFilterView" type="text/template">
    <div did="<%- model.id %>" class="alert alert-info fade in clearfix">
        <label>Device Type</label>
        <select class="form-control" name="devicetype">
            <option value="ios">iOS</option>
            <option value="android">Android</option>
        </select>
        <span class="glyphicon glyphicon-remove"></span>
    </div>
</script>

<script id="devicemodelMessageFilterView" type="text/template">
    <div did="<%- model.id %>" class="alert alert-info fade in clearfix">
        <label>Device Model</label>
        <input type="text" name="devicemodel" class="form-control" placeholder="Device Model" value="" />
        <span class="glyphicon glyphicon-remove" data-dismiss="alert"></span>
    </div>
</script>

<script id="georegionMessageFilterView" type="text/template">
    <div did="<%- model.id %>" class="alert alert-info fade in clearfix">
        <label>GeoRegion</label>
        <input type="text" name="region-addr-1" class="form-control" placeholder="Address 1" value="" />
        <input type="text" name="region-addr-2" class="form-control" placeholder="Address 2" value="" />
        <input type="text" name="region-addr-3" class="form-control" placeholder="Address 3" value="" />
        <span class="glyphicon glyphicon-remove" data-dismiss="alert"></span>
    </div>
</script>

<script id="geopointMessageFilterView" type="text/template">
    <div did="<%- model.id %>" class="alert alert-info fade in clearfix">
        <label>GeoPoint</label>
        <input type="text" name="point-addr" class="form-control" placeholder="Address" value="" />
        <input type="text" name="point-radius" class="form-control" placeholder="Radius (meters)" value="" />
        <span class="glyphicon glyphicon-remove" data-dismiss="alert"></span>
    </div>
</script>

<div id="profile-container" class="app-view panel-containers fullpos" style="display:none">
    <div class="panel panel-default fullpos">
        <h4>User Profile</h4>
        <p>You may edit your user profile details and/or change your password below. Fields marked with an asterisk (<span class="req">*</span>) are required.</p>
        <hr />
        <div id="user-profile-container" class="form-horizontal well"></div>
    </div>
</div>

<script id="ProfileTmpl" type="text/template">
    <div class="form-group">
        <div class="row-fluid">
            <div class="col-sm-6">
                <label class="control-label">First Name</label>
                <input type="text" class="form-control" name="firstName" value="<%-  model.firstName %>" placeholder="Enter your first name">
            </div>
            <div class="col-sm-6">
                <label class="control-label">Last Name</label>
                <input type="text" class="form-control" name="lastName" value="<%-  model.lastName %>" placeholder="Enter your last name">
            </div>
        </div>
    </div>
    <div class="form-group">
        <div class="row-fluid">
            <div class="col-sm-6">
                <label class="control-label">Email Address</label>
                <input type="text" class="form-control" name="userName" disabled="disabled" value="<%-  model.email %>" placeholder="Email Address">
            </div>
            <div class="col-sm-6">
                <label class="control-label">Company Name</label>
                <input type="text" class="form-control" name="companyName" value="<%-  model.companyName %>" placeholder="Enter your company's name">
            </div>
        </div>
    </div>
    <hr />
    <div class="password-inputs clearfix">
        <div class="form-group">
            <div class="row-fluid">
                <div class="col-sm-12">
                    <label class="control-label">Current Password</label>
                    <div class="toggling-password-input">
                        <span class="glyphicon glyphicon-eye-close hidden" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to hide the password value."></span>
                        <span class="glyphicon glyphicon-eye-open" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to display the password value."></span>
                        <input type="password" class="form-control toggling-password-input" name="oldpassword" placeholder="Your current password is required to change to a new password">
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="row-fluid">
                <div class="col-sm-6">
                    <label class="control-label">New Password</label>
                    <div class="toggling-password-input">
                        <span class="glyphicon glyphicon-eye-close hidden" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to hide the password value."></span>
                        <span class="glyphicon glyphicon-eye-open" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to display the password value."></span>
                        <input type="password" disabled="disabled" class="form-control toggling-password-input" name="newpassword" placeholder="Enter a new password">
                    </div>
                </div>
                <div class="col-sm-6">
                    <label class="control-label">New Password (repeat)</label>
                    <div class="toggling-password-input">
                        <span class="glyphicon glyphicon-eye-close hidden" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to hide the password value."></span>
                        <span class="glyphicon glyphicon-eye-open" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to display the password value."></span>
                        <input type="password" disabled="disabled" class="form-control toggling-password-input" name="newpassword2" placeholder="Re-enter the new password">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <span class="alert-container"></span>
</script>

<div id="license-container" class="app-view fullpos" style="display:none">
    <div id="license-main-tab" class="view-wrapper fullpos">
        <div class="content" id="license-tab">
            <div class="row-fluid">
                <div class="col-md-1"></div>
                <div class="col-md-10">
                    <div class="tab-content-container fullpos">
                        <div class="solo-panel vscroll nomargin"></div>
                    </div>
                </div>
                <div class="col-md-1"></div>
            </div>
        </div>
    </div>
</div>

<div id="leave-feedback-container">
    <a id="feedback-btn" href="">Leave Feedback</a>
    <div id="feedback-content">
        <p>We welcome any comments or questions.</p>
        <select id="feedback-type-field" class="form-control">
            <option value="Comment">Comment</option>
            <option value="Question">Question</option>
        </select>
        <input id="feedback-name" class="form-control" type="text" placeholder="Name" name="name">
        <input id="feedback-subject" class="form-control" type="text" placeholder="Subject" name="email">
        <input id="feedback-email" class="form-control" type="text" placeholder="Email Address" name="email">
        <textarea id="feedback-message" class="form-control" placeholder="Message"></textarea>
        <button id="submit-feedback-btn" class="btn btn-primary">Submit Feedback</button>
        <img src="/images/ajax-loader-sm.gif" style="display:none" />
    </div>
    <div id="feedback-complete" style="display:none">
        <h4>Feedback Has Been<br />Submitted</h4>
        <p>Thank you for submitting your feedback or question. We will respond shortly.</p>
    </div>
    <div id="feedback-error" style="display:none">
        <h4>Error Submitting<br />Feedback</h4>
        <p>There was an error submitting your feedback. Please check the email address you typed and try again.</p>
    </div>
</div>

<script id="LicenseTmpl" type="text/template">
    <h4><%- title %></h4>

    <p class="subhead">A list of <%- title %> Modules.<p>

    <% for(var i=0;i<metadata.length;++i){ %>
    <% if(metadata[i].modules){ %>
    <div class="docs-container clearfix">
        <div>
            <div class="section">
                <div class="section-title">
                    <h5>
                        <% if(metadata[i].url){ %><a href="<%- metadata[i].url %>"><% } %>
                        <% if(metadata[i].shortDescription){ %>
                        <%- metadata[i].shortDescription %>
                        <% }else{ %>
                        <%- metadata[i].url %><br />
                        <% } %>
                        <% if(metadata[i].url){ %></a><% } %>
                    </h5>
                </div>
                <div class="docs-content">
                    <% for(var j=0;j<metadata[i].modules.length;++j){ %>
                    <b><%- metadata[i].modules[j].moduleName %></b><br />
                    <p><%- metadata[i].modules[j].extraDescription %></p>
                    <% } %>
                </div>
            </div>
        </div>
    </div>
    <% } %>
    <% } %>
</script>

<div id="general-alert" class="modal fade" tabindex="1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h4 class="modal-title"></h4>
            </div>
            <div class="modal-body"></div>
            <div class="modal-footer">
                <button data-dismiss="modal" type="button" class="btn btn-primary">Ok</button>
            </div>
        </div>
    </div>
</div>

<div id="confirm-alert" class="modal fade" tabindex="1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h4 class="modal-title"></h4>
            </div>
            <div class="modal-body"></div>
            <div class="modal-footer">
                <button type="button" class="submit btn btn-primary">Yes</button>
                <button data-dismiss="modal" type="button" class="btn btn-default">No</button>
            </div>
        </div>
    </div>
</div>

<div id="error-alert" class="modal fade" tabindex="1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h4 class="modal-title"></h4>
            </div>
            <div class="modal-body"></div>
            <div class="modal-footer">
                <button data-dismiss="modal" type="button" class="btn btn-primary">Ok</button>
            </div>
        </div>
    </div>
</div>

<div id="new-user-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Add User</h4>
            </div>
            <div class="modal-body clearfix"></div>
            <div class="modal-footer">
                <button id="mmx-users-create-btn" class="disabled btn btn-primary">Create</button>
                <button data-dismiss="modal" type="button" class="btn btn-default">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div id="update-user-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Edit User</h4>
            </div>
            <div class="modal-body clearfix"></div>
            <div class="modal-footer">
                <button id="mmx-users-update-btn" class="disabled btn btn-primary">Save</button>
                <button data-dismiss="modal" type="button" class="btn btn-default">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div id="user-profile-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h4 class="modal-title">User Profile</h4>
            </div>
            <div class="modal-body clearfix"></div>
            <div class="modal-footer">
                <button id="user-profile-update-btn" class="btn btn-primary">Save</button>
                <button data-dismiss="modal" type="button" class="btn btn-default">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div id="mmx-sendmessage-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Send</h4>
            </div>
            <div class="modal-body">
                <div class="radio">
                    <label>
                        <input type="radio" name="message-type" value="message" checked>
                        In-App Message
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" name="message-type" value="ping">
                        Ping Device
                    </label>
                    <span class="tooltip-danger glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="right" title="
                    Pinging the device requires a client token, along with either a GCM key (Android) or an APNS certificate (iOS)">
                    </span>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" name="message-type" value="push">
                        Push Notification
                    </label>
                    <span class="tooltip-danger glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="right" title="
                    Push notifications require a client token, along with either a GCM key (Android) or an APNS certificate (iOS)">
                    </span>
                </div>
                <div class="message-types">
                    <div did="ping" class="hidden">
                        <p>The ping will be sent through GCM or APNS service directly to the device:<br />
                            <span class="user-placeholder"></span><br />
                            <span class="device-placeholder"></span>
                        </p>
                        <button did="ping" type="button" class="btn btn-primary">Ping Device</button>
                        <div class="message-push-history"></div>
                    </div>
                    <div did="push" class="hidden">
                        <p>The push notification will be sent through GCM or APNS service directly to the device:<br />
                            <span class="user-placeholder"></span><br />
                            <span class="device-placeholder"></span>
                        </p>
                        <textarea name="payload" class="form-control" placeholder="Payload"></textarea>
                        <button did="notification" type="button" class="btn btn-primary">Send Notification</button>
                        <div class="message-push-history"></div>
                    </div>
                    <div did="message" class="hidden">
                        <p>The message will be sent through the Magnet MMX hosted service to:<br />
                            <span class="user-placeholder"></span><br />
                            <span class="device-placeholder"></span>
                        </p>
                        <textarea name="payload" class="form-control" placeholder="Payload"></textarea>
                        <button did="message" type="button" class="btn btn-primary">Send Message</button>
                    </div>
                </div>
                <span class="alert-container"></span>
            </div>
            <div class="modal-footer">
                <button data-dismiss="modal" type="button" class="btn btn-default">Close</button>
            </div>
        </div>
    </div>
</div>

<div id="mmx-create-topic-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h4 class="modal-title">New Topic</h4>
            </div>
            <div  class="modal-body"></div>
            <div class="modal-footer">
                <button id="create-messaging-topic-btn" type="button" class="btn btn-primary">Save</button>
                <button data-dismiss="modal" type="button" class="btn btn-default">Close</button>
            </div>
        </div>
    </div>
</div>

<div id="update-topic-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Edit Topic</h4>
            </div>
            <div class="modal-body clearfix"></div>
            <div class="modal-footer">
                <button id="mmx-topics-update-btn" class="disabled btn btn-primary">Save</button>
                <button data-dismiss="modal" type="button" class="btn btn-default">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div id="mmx-publishtopic-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Publish a message to topic <span class="mmx-topic-name-placeholder"></span></h4>
            </div>
            <div class="modal-body">
                <textarea name="payload" class="form-control" placeholder="Payload"></textarea>
                <span class="alert-container"></span>
            </div>
            <div class="modal-footer">
                <button id="mmx-publishtopic-btn" type="button" class="btn btn-primary">Publish Message</button>
                <button data-dismiss="modal" type="button" class="btn btn-default">Close</button>
            </div>
        </div>
    </div>
</div>

<div id="mmx-device-showdetails-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Device Details</h4>
            </div>
            <div  class="modal-body"></div>
            <div class="modal-footer">
                <button data-dismiss="modal" type="button" class="btn btn-default">Close</button>
            </div>
        </div>
    </div>
</div>

<div id="mmx-create-app-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h4 class="modal-title">New App</h4>
            </div>
            <div  class="modal-body">
                <label>What is your App's name?</label>
                <input type="text" class="form-control" maxlength="40" placeholder="The name of your new app" />
            </div>
            <div class="modal-footer">
                <button id="create-messaging-app-btn" type="button" class="btn btn-primary">Save</button>
                <button data-dismiss="modal" type="button" class="btn btn-default">Close</button>
            </div>
        </div>
    </div>
</div>

<div id="mmx-setapns-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Upload APNS Certificate</h4>
            </div>
            <div  class="modal-body">
                To upload an APNS certificate, you must first specify the APNS password which matches the certificate.
                The certificate and password will be validated before the certificate is uploaded. For more information,
                visit the <a href="//identity.apple.com" target="_blank">Apple Push Certificates Portal</a>.
                <div class="form-group clearfix">
                    <div class="col-sm-12">
                        <label>APNS Certificate</label>
                        <div class="row-fluid">
                            <div class="col-sm-12 no-padding">
                                <div id="mmx-settings-apns-cert-file-upload" name="apnsCertificate"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <label>APNS Password</label>
                        <div class="toggling-password-input">
                            <span class="glyphicon glyphicon-eye-close hidden" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to hide the password value."></span>
                            <span class="glyphicon glyphicon-eye-open" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to display the password value."></span>
                            <input type="password" class="form-control" name="apnsCertPassword" placeholder="APNS Password" value="" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="upload-apns-btn" type="button" class="btn btn-primary">Upload</button>
                <button data-dismiss="modal" type="button" class="btn btn-default">Close</button>
            </div>
        </div>
    </div>
</div>

<div id="confirm-tos-dialog" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h3>Terms of Service</h3>
                <p>You must agree to the Terms of Service to continue.</p>
            </div>
            <div class="modal-body">
                <iframe src="//www.magnet.com/resources/tos.html"></iframe>
            </div>
            <div class="modal-footer">
                <button id="agree-to-tos" class="submit btn-primary btn">I Agree</button>
                <button data-dismiss="modal" class="cancel btn btn-default">I Don't Agree</button>
            </div>
        </div>
    </div>
</div>

</body>
</html>
